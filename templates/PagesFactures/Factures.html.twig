
{% include 'navbar2.html.twig'%}

{% block body  %}           
    <div class="row">
      <div class ="col-2">
        {% include 'nav.html.twig'%} 
     </div>
     <div class="col-9">
     <div class="container marginbas"style="margin-left:50px;">
      <div class="card mt-1 ">
      <div class="card-header bg-primary"> Recherche factures du client </div>
       <div class="card-body">
         <form method="get" action="Factures.php" class= "form-inline">
         <input type="text" class="form-control" placeholder="Entrez le libelle du facture" name="libelle">
        &nbsp <input type="submit" class="btn btn-success" value="Recherche......">      
        &nbsp&nbsp <a href ="AjouteFacture.php"> <i class="fa fa-plus" aria-hidden="true"></i>Ajoute facture</a>   
       </form>
       </div>
     </div>
     </div>
    <div class="container marginbas"style="margin-left:50px;">
    <div class="card">
    <div class="card-header bg-primary"> La liste des factures</div> <p>
        <div class="card-body">
            <table class="table table-striped container ">
                <thead>
                    <tr>
                         <th scope="col">N°Facture</th>
                         <th scope="col">client</th>
                         <th scope="col">Libellé</th>
                         <th scope="col">Nom</th>
                         <th scope="col">Prix unitaire</th>
                         <th scope="col">Quantité</th>
                         <th scope="col">PA+TVA</th>
                         <th scope="col">Date de réception</th>
                         <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody id="factures">
                    {% for facture in factures %}
                        <tr>
                            <td> {{facture.idFacture}} </td>
                            <td> {{facture.nomClient}} </td>
                            <td>{{facture.nomProduit}} </td>
                            <td> {{facture.libelle}}</td>
                            <td> {{facture.prixUnitaire}} </td>
                            <td> {{facture.quantite}} </td>
                            <td> {{facture.montantDu}} </td>
                            <td> {{facture.date}} </td>
                            <td><a href="EditeFacture.php?&id={{facture.idFacture}}" target="_self"><i class="fas fa-edit"></i></a>
                            <a onclick ="return confirm(' Êtes vous sûr de vouloir supprimer la facture')";
                             href="SupprimeFacture.php?&id={{facture.idFacture}}" target="_self"> <i class="fas fa-trash-alt"></i></a> 
                            <a href="ImprimeFacture.php?&id={{facture.idFacture}}" target="_self"><i class="fal fa-print "></i></a> 
                            </td>
                        </tr>   
                    {% endfor %}
                 </tbody>
                </table>
                  <input type="button" class="btn btn-success" onclick="window.location.href = 'ImprimerTableFacture.php';" value="imprimer"/>

                 <div class="container" style="text-align: center;" >
                        <button class="btn btn-primary" onclick="firstPage()">|&lt;</button>
                        <button class="btn" onclick="previous()">  &lt;</button>
                        <span id="pageInfo"></span>
                        <button class="btn" onclick="nextPage()">&gt;</button>
                        <button class="btn btn-primary" onclick="lastPage()">&gt;|</button>
                    </div>
             </div>
            </div>
        </div>
    </div>
   </div>
 </div>
 </div>



{% endblock %} 



    
{% block script %}
    <script > 
    let factures = {{factures|json_encode|raw}};
    </script>
      <script src="js/factures.js"></script>

 {% endblock %}
 
 
